<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8">
  <title>Lineup - test</title>
  
  <link type="text/css" rel="stylesheet" href="http://static.cdn.tv2.no/s/stylesheets/tv2bootstrap.css?v=1.1.30">
  <link rel="stylesheet" href="http://contentbox.tv2.no/sportsdata-bundle/assets/css/sportsdata.css">
  <link rel="stylesheet" href="css/sport-lineup.css"/>

</head>
<body>
		<section class="section">




<!-- start module markup --> 

		 	<section class="sportsdata-widget module-lineup" data-lineup="lineup-home">

			 	
					
					<figure>
						<!-- TODO: make ARIA compatible for accessibility, figure should not be detected by screen readers, but still be tab-able -->
						<img aria-label="Match lineup" title="Kampoppstilling" alt="Kampoppstilling" src="img/soccer-field.svg">

						<section class=" lineup-field lineup-active lineup-rows-5 lineup-field-home">
							<ul>
								<li role="presentation"><a title="Spillerlink" href="#">1</a></li>
							</ul>
							<ul>
								<li><a title="Spillerlink" href="#">4</a></li>
								<li><a title="Spillerlink" href="#">8</a></li>
								<li><a title="Spillerlink" href="#">3</a></li>
								<li><a title="Spillerlink" href="#">11</a></li>
								<li><a title="Spillerlink" href="#">15</a></li>
								
							</ul>
							<ul>
								<li><a href="#">9</a></li>
								<li><a href="#">26</a></li>
								<li><a href="#">26</a></li>
								
							</ul>
							<ul>
								<li><a href="#">5</a></li>
							</ul>
							<ul>

								<li><a href="#">5</a></li>
							</ul>
						</section>

						<section class="lineup-field lineup-inactive lineup-rows-8 lineup-field-away">
							<ul>
								<li><a href="#">1</a></li>
							</ul>
					
							<ul>
								<li><a href="#">8</a></li>
								<li><a href="#">3</a></li>
							</ul>
							<ul>
								<li><a href="#">12</a></li>
							</ul>
							<ul>
								<li><a href="#">12</a></li>
								<li><a href="#">15</a></li>
							</ul>
							<ul>
								<li><a href="#">17</a></li>
								<li><a href="#">2</a></li>
							</ul>
							<ul>
								<li><a href="#">19</a></li>
							</ul>
							<ul>
								<li><a href="#">12</a></li>
							</ul>
							<ul>
								<li><a href="#">12</a></li>
								<li><a href="#">15</a></li>
							</ul>
							
						</section>

				 	</figure>

				 	<nav>
				 		<button type="button" class="lineup-home c4 lineup-active lineup-home-tab" role="tab">
				 			<h3 class="t18">
				 				Southampton <!-- Should have short-names for 'tiny' layout (Man Utd) -->
				 			</h3>
				 			<p>
				 				Oppstilling: 5-3-1-1
				 			</p>
				 		</button>
				 		<button type="button" class="lineup-away c4 lineup-inactive lineup-away-tab" role="tab">
				 			<h3 class="t18">
				 				Manchester United <!-- Should have short-names for 'tiny' layout (Man Utd) -->
				 			</h3>
				 			<p>
				 				Oppstilling: 2-1-2-2-1-1-2
				 			</p>
				 		</button>
				 	</nav>

				 	<div class="lineup-table c4 lineup-home-table" role="tabpanel">

				 		
				 		<div class="module-table">
						 	<table>
						 		<thead>
							 		<tr>
							 			<th colspan="3">Lagoppstilling</th>
							 		</tr>	
							 	<tbody>
							 		<tr class="lineup-player">
							 			<td class="shirt-number">1</td><td><a href="#">Frank Honest</a></td><td class="match-data"><img alt="Gult kort" src="img/icon-yellow-card.svg"></td>
							 		</tr>
							 		<tr class="lineup-player">
							 			<td class="shirt-number">2</td><td><a href="#">Frank Honest</a></td><td class="match-data"><img alt="Gult kort" src="img/icon-yellow-card.svg"></td>
							 		</tr>
							 		<tr class="lineup-player">
							 			<td class="shirt-number">11</td><td><a href="#">Frank Honest</a></td><td class="match-data"><img alt="Gult kort" src="img/icon-yellow-card.svg"></td>
							 		</tr>
							 		<tr class="lineup-player">
							 			<td class="shirt-number">15</td><td><a href="#">Frank Honest</a></td><td class="match-data"><img alt="Gult kort" src="img/icon-yellow-card.svg"></td>
							 		</tr>
						 		</tbody>
						 	</table>

						 	<table>
						 		<thead>
							 		<tr>
							 			<th colspan="3">Innbyttere</th>
							 		</tr>	
							 	</thead>
							 	<tbody>
							 		<tr class="lineup-player">
							 			<td class="shirt-number">1</td><td><a href="#">Frank Honest</a></td><td class="match-data"><img alt="Gult kort" class="icon-soccer-yellow-card" src="img/icon-yellow-card.svg"></td>
							 		</tr>	
							 		<tr class="lineup-player">
							 			<td class="shirt-number">1</td><td><a href="#">Frank Honest</a></td><td class="match-data"><img alt="Gult kort" src="img/icon-yellow-card.svg"></td>
							 		</tr>
							 		<tr class="lineup-player">
							 			<td class="shirt-number">2</td><td><a href="#">Frank Honest</a></td><td class="match-data"><img alt="Gult kort" src="img/icon-yellow-card.svg"></td>
							 		</tr>
						 		</tbody>
						 	</table>

						 	<table>
						 		<thead>
							 		<tr>
							 			<th>Trener</th>
							 		</tr>	
							 	<tbody>
							 		<tr class="lineup-player">
							 			<td><a href="#">Frank Honest</a></td>
							 		</tr>	
						 		</tbody>
						 	</table>

					 	</div>
					</div>


					<div class="lineup-table c4 lineup-away-table" role="tabpanel">
				 		<div class="module-table">
						 	<table>
						 		<thead>
							 		<tr>
							 			<th colspan="3">Lagoppstilling</th>
							 		</tr>	
							 	<tbody>
							 		<tr class="lineup-player">
							 			<td class="shirt-number">1</td><td><a href="#">Frank Honest</a></td><td class="match-data"><img alt="Gult kort" src="img/icon-yellow-card.svg"></td>
							 		</tr>
							 		<tr class="lineup-player">
							 			<td class="shirt-number">2</td><td><a href="#">Frank Honest</a></td><td class="match-data"><img alt="Gult kort" src="img/icon-yellow-card.svg"></td>
							 		</tr>
							 		<tr class="lineup-player">
							 			<td class="shirt-number">11</td><td><a href="#">Frank Honest</a><img alt="Kaptein" src="img/icon-captain.svg"></td><td class="match-data"><img alt="Gult kort" src="img/icon-yellow-card.svg"></td>
							 		</tr>
							 		<tr class="lineup-player">
							 			<td class="shirt-number">15</td>
							 			<td><a href="#">Frank Honest</a></td>
							 			<td class="match-data">
							 				<img alt="Gult kort" src="img/icon-yellow-card.svg">
							 				2x<img alt="MÃ¥l" src="img/icon-goal.svg">
							 			</td>
							 		</tr>
						 		</tbody>
						 	</table>

						 	<table>
						 		<thead>
							 		<tr>
							 			<th colspan="3">Innbyttere</th>
							 		</tr>	
							 	</thead>
							 	<tbody>
							 		<tr class="lineup-player">
							 			<td class="shirt-number">1</td>
							 			<td><a href="#">Frank Honest</a></td>
							 			<td class="match-data"><img alt="Gult kort" class="icon-soccer-yellow-card" src="img/icon-yellow-card.svg"></td>
							 		</tr>
							 		<tr class="lineup-player">
							 			<td class="shirt-number">11</td><td><a href="#">Frank Honest</a></td><td class="match-data"><img alt="Gult kort" src="img/icon-yellow-card.svg"></td>
							 		</tr>
							 		<tr class="lineup-player">
							 			<td class="shirt-number">15</td><td><a href="#">Frank Honest</a></td><td class="match-data"><img alt="Gult kort" src="img/icon-yellow-card.svg"></td>
							 		</tr>	
						 		</tbody>
						 	</table>

						 	<table>
						 		<thead>
							 		<tr>
							 			<th>Trener</th>
							 		</tr>	
							 	<tbody>
							 		<tr class="lineup-player">
							 			<td><a href="js">Frank Honest</a></td>
							 		</tr>	
						 		</tbody>
						 	</table>

						 
					 	</div>

					</div>

		  	</section>



<!-- end module markup -->




		</section>



	<!-- //testing purposes -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	<script type="text/javascript">
		(function($){

			function resizedw(){
				//breakpoints for module
				var module = $('.module-lineup'),
					w = module.width(),
					options = {
						tiny: 390,
						narrow: 600,
						medium: 800,
						normal: 930
					};

				//set desired layout class
				if (w < options.tiny) {
					toggleLayoutClasses(module, 'tiny');
				}
				else if(w > options.tiny && w < options.narrow){
					toggleLayoutClasses(module, 'narrow');
				}
				else if(w > options.narrow && w < options.medium){
					toggleLayoutClasses(module, 'medium');
				}
				else if(w > options.medium){
					toggleLayoutClasses(module, 'normal');
				}
				else {
					console.log(w, ' is out of scope for resizedw()');
					//error handle or fallback to magic tricks
				}
			}


			/* simple function for toggling layout classes for jquery elem */
			function toggleLayoutClasses(elem, cl){
				var classes = ['tiny', 'narrow', 'medium', 'normal'];
				for (var i = 0; i < classes.length; i++){
					(classes[i]!= cl && elem.hasClass(classes[i]) ? elem.removeClass(classes[i]) : elem.addClass(cl));
				}
			}


			//resize event throttler
			var resizeThrottle;
			window.onresize = function(){
			  clearTimeout(resizeThrottle);
			  resizeThrottle = setTimeout(resizedw, 200);
			};


			//init layout class
			resizedw();


			/* temp js for toggling lineupactive class and set data-lineup attribute  - TODO: move to backbone */
			$('body').on('click', '.module-lineup button[role="tab"]', function(e){

				var activeLineup = ($(this).hasClass('lineup-home-tab') ? 'lineup-home' : 'lineup-away');

				$(this).removeClass('lineup-inactive').siblings('button').addClass('lineup-inactive');

				$(this).parents('.module-lineup').attr('data-lineup', activeLineup);

			})
			.on('click', '.module-lineup .lineup-field a', function(e){
				e.preventDefault(); //prevent URI change
				//trigger desired event to open player profile
			});




		})(jQuery);
	</script
</body>
</html>
